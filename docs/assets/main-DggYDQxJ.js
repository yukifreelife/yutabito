import{s as h}from"./favorite-D5ASEm3T.js";import{g as y}from"./utils-i6mLqElC.js";import{a as p}from"./filter-CoeZjwpE.js";function m(e){const t=document.getElementById("recommended-slider");t.innerHTML="",[...e].sort(()=>.5-Math.random()).slice(0,5).forEach(r=>{const s=document.createElement("div");s.className="slider-card";const c=document.createElement("a");c.href=`onsen.html?id=${r.id}`;const v=y(r.romaji,r.name),f=document.createElement("h4");f.textContent=r.name,c.appendChild(v),c.appendChild(f);const i=document.createElement("button");i.className="favorite-btn",i.setAttribute("data-id",r.id),i.textContent="♡",s.appendChild(c),s.appendChild(i),t.appendChild(s)}),h()}function E(){const e=document.querySelector(".site-header").offsetHeight;document.documentElement.style.setProperty("--header-h",`${e}px`)}window.addEventListener("load",E);window.addEventListener("resize",E);let a=[];fetch("/yutabito/onsen.json").then(e=>e.json()).then(e=>{a=e,m(a);const t=document.getElementById("apply-filters");t==null||t.addEventListener("click",()=>{const d=p(a);m(d),h()});const o=document.getElementById("filter-keyword");o==null||o.addEventListener("keydown",d=>{d.key==="Enter"&&(t==null||t.click())})}).catch(e=>console.error("温泉データの取得に失敗しました:",e));const u=document.getElementById("showFavoritesBtn");u&&u.addEventListener("click",()=>{const e=JSON.parse(localStorage.getItem("favorites")||"[]"),t=new Set(e.map(String)),o=a.filter(d=>t.has(String(d.id)));m(o),h()});const n=document.getElementById("searchInput"),l=document.getElementById("searchByNameBtn");function g(){const e=n==null?void 0:n.value.trim();if(!e){n==null||n.focus();return}const t=new URL("list.html",location.href);t.searchParams.set("q",e),location.href=t.toString()}l==null||l.addEventListener("click",g);n==null||n.addEventListener("keydown",e=>{e.key==="Enter"&&g()});
