import{s as k}from"./favorite-D5ASEm3T.js";import{a as u,g as j}from"./filter-CoeZjwpE.js";function w(e,t=!1){const h=document.getElementById("onsen-list");t||(h.innerHTML=""),e.forEach(n=>{console.log("画像パス確認:",`/assets/images/onsen_${n.romaji}.jpg`);const i=document.createElement("div");i.className="onsen-card";const s=document.createElement("div");s.className="image-wrapper";const c=document.createElement("a");c.href=`onsen.html?id=${n.id}`,c.className="onsen-link";const v=`/yutabito/assets/images/onsen_${n.romaji}.jpg`,I="/yutabito/assets/images/placeholder.jpg",l=document.createElement("img");l.src=v,l.alt=n.name,l.onerror=function(){this.onerror=null,this.src=I},c.appendChild(l);const r=document.createElement("button");r.className="favorite-btn",r.setAttribute("data-id",String(n.id)),r.textContent="♡",s.appendChild(c),s.appendChild(r);const d=document.createElement("div");d.className="card-content";const f=document.createElement("h3");f.textContent=n.name;const E=document.createElement("p");E.textContent=n.description||"癒しの温泉地です。",d.appendChild(f),d.appendChild(E),i.appendChild(s),i.appendChild(d),h.appendChild(i)}),requestAnimationFrame(()=>{setTimeout(()=>{k()},50)})}var C;const p=((C=new URLSearchParams(location.search).get("q"))==null?void 0:C.trim().toLowerCase())||"";let m=[],o=[],a=0;const y=20;fetch("/yutabito/onsen.json").then(e=>e.json()).then(e=>{if(m=e,p){const t=document.getElementById("filter-keyword");t&&(t.value=p),o=u(m,{...j(),keyword:p})}else o=u(m);g()}).catch(e=>console.error("温泉データの取得に失敗しました:",e));function g(){const e=o.slice(a,a+y);w(e,!0),requestAnimationFrame(k),a+=y;const t=document.getElementById("loadMoreBtn");t&&(t.style.display=a>=o.length?"none":"inline-block")}var B;(B=document.getElementById("loadMoreBtn"))==null||B.addEventListener("click",g);var b;(b=document.getElementById("apply-filters"))==null||b.addEventListener("click",()=>{a=0,document.getElementById("onsen-list").innerHTML="",o=u(m);const e=document.getElementById("loadMoreBtn");e&&(e.style.display="inline-block"),g()});
